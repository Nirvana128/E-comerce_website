{% extends 'app1/base.html' %}
{% load static %}
{% block title %} Checkout{% endblock %}
{% block main-content %}
<div class="container">
    {% if messages %}
       {% for msg in messages %}
       <div class="alert alert-danger" role="alert">
            {{ msg }}
       </div>
       {% endfor %}
    {% endif %}
    <div class="row mt-5">
        <div class="col-sm-6">
            <h4>Order Summary</h4>
            <hr>
            {% for item in cart_items %}
                <div class="card mb-2">
                    <div class="card-body">
                        <h5>Product: {{ item.product.title }}</h5>
                        <p>Quantity: {{ item.quantity }}</p>
                        <p class="fw-bold">Price: {{ item.product.discounted_price }}</p>
                    </div>
                </div>
            {% endfor %}
            <p class="fw-bold">Total Cost + EG. 40 = {{ totalamount }}</p>
            <small>Terms and Conditions: Customer service must follow adipisicing elit service. Flexibility, never again! The right choice drives away the consumer's desires, the least important. It is easy and never hard to find accusers but nothing and who?</small>
        </div>
        <div class="col-sm-4 offset-sm-1">
            <h3>Select Shipping Address</h3>
            <hr>
            <form method="post" id="myform">
                {% csrf_token %}
                {% for ad in add %}
                <div class="card">
                    <div class="card-body">
                    <h5>{{ ad.name }}</h5>
                    <p>Mobile: {{ ad.mobile }}</p>
                    <p>{{ ad.locality }} {{ ad.city }} {{ ad.state }} {{ ad.zipcode }}</p>
                    </div>
                </div>
                    <div class="form-check mt-2 mb-5">
                        <input class="form-check-input" type="radio" name="custid" id="custadd{{ forloop.counter }}" value="{{ ad.id }}">
                        <label class="form-check-label fw-bold" for="custadd{{ forloop.counter }}">Address: {{ forloop.counter }}</label>
                    </div>
                {% endfor %}
                <div class="form-check mb-1">
                    <label for="totamount" class="form-label">Total Amount</label>
                    <input type="number" class="form-control" name="totamount" value="{{ totalamount }}" readonly>
                </div>

                <!-- Payment Method Section -->
                <h4 class="mt-4">Select Payment Method</h4>
                <hr>
                <label for="payment_method">Select Payment Method</label><br>
                <input type="radio" id="paypal" name="payment_method" value="paypal" checked>
                <label for="paypal">PayPal</label><br>
                <input type="radio" id="cod" name="payment_method" value="cod">
                <label for="cod">Cash on Delivery</label><br>

                <div class="text-end mt-4">
                    <button type="submit" class="btn btn-warning mt-2 px-5 fw-bold">Proceed</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}



